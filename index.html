<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Prevent white flash before CSS loads by detecting and applying the
         saved/system theme as early as possible. The inline script runs before
         React or external CSS, so Tailwind's dark styles (using the .dark
         class) apply immediately when the stylesheet loads. -->
    <meta name="theme-color" content="#171717" />
    <script>
      (function() {
        try {
          var stored = localStorage.getItem('theme');
          var prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
          var isDark = false;
          if (stored === 'dark') isDark = true;
          else if (stored === 'light') isDark = false;
          else isDark = prefersDark;

          if (isDark) document.documentElement.classList.add('dark');

          // update theme-color meta for the current theme
          var meta = document.querySelector('meta[name="theme-color"]');
          if (meta) meta.setAttribute('content', isDark ? '#171717' : '#ffffff');
        } catch (e) {
          /* ignore */
        }
      })();
    </script>
    <style>
      /* Ensure app root fills screen during initial paint */
      html, body, #root { height: 100%; }
      /* Default (light) and dark backgrounds to avoid a white flash */
      @media (prefers-color-scheme: dark) {
        body { background: #171717; color-scheme: dark; }
      }
      @media (prefers-color-scheme: light) {
        body { background: #ffffff; color-scheme: light; }
      }
      /* Fallback if no prefers-color-scheme support */
      body { background: #171717; }
    </style>
    <title>Tauri + React + Typescript</title>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
